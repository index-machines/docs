# Wiring

In this step, you will mount and connect all the wiring and pneumatic tubing.

1. Find the `front-drag-chain-mount` print in the first tray, and grab a M5x25mm socket head screw from the hardware bag.
  ![Drag Train Mount print with screw](images/front-leg-cable-chain-mount.JPG){ loading=lazy }

2. Place the `front-drag-chain-mount` on top of the front left leg as shown.
  ![Positioning the drag train mount](images/front-cable-chain-mount-placement.JPG){ loading=lazy }

3. Insert the M5x25mm socket head screw through the print into the front left leg before tightening it down with an allen wrench.
  ![Position screw for installing drag train mount](images/chain-mount-1.JPG){ loading=lazy }
  ![Screwing in drag train mount](images/chain-mount-2.JPG){ loading=lazy }
  ![Drag train mount attached](images/chain-mount-3.JPG){ loading=lazy }

4. Grab the cable harness from the first tray. One side of the cable chain will have shorter wires, and the other will have longer wires with a print zip tied to it. Place your harness as shown in the image below.
  ![Cable harness](images/cable-harness.JPG){ loading=lazy }

5. Check the clip holding the cable that exits the cable chain part way through. If it has popped out during shipping, press it back into place.
  ![Check cable harness clip](images/x-motor-cable-pop.JPG){ loading=lazy }
  ![Reattach cable harness clip](images/x-motor-cable-set.JPG){ loading=lazy }

6. Lift up the harness and place it onto your machine as shown below. Place the side of the cable chain with the longer wires on the ledge in the `front-drag-chain-mount`. It can help to pull your Y gantries forward to give the right side of the harness a place to rest for the next few steps.
  ![Cable harness installed](images/cable-harness-placement-1.JPG){ loading=lazy }
  ![Cable harness installed 2](images/cable-harness-placement-2.JPG){ loading=lazy }

7. Screw two M5x10mm socket head screws through the mounting holes in the cable chain and into the `front-drag-chain-mount`. (This may be a tight fit.) If you notice that a cable chain clip pops out at any point, it can easily be pressed right back into place.
  ![Screw in cable harness](images/screw-chain-front.JPG){ loading=lazy }
  ![Both screws attaching cable harness](images/chain-clip-pop.JPG){ loading=lazy }
  ![Reattaching popped clip](images/chain-clip-set.JPG){ loading=lazy }

8. Your machine should now look like the image below.
  ![Machine overview](images/chain-half-mount.JPG){ loading=lazy }
  
9. Remove the plastic wrapping from toolhead-side of the cable chain.
  ![Sliding off plastic from cable harness](images/unbag-wires1.JPG){ loading=lazy }
  ![Released cable harness](images/unbag-wires2.JPG){ loading=lazy }

10. On the other side of the cable chain, you'll notice two wires are sticking out of the back of the chain. Pull these out of the way as shown, and mount the other side of the cable chain to the X gantry using two M5x16mm socket head screws.
    ![Pull back two cables](images/chain-head-mount-1.JPG){ loading=lazy }
    ![Mount cable chain to X-axis](images/chain-head-mount-3.JPG){ loading=lazy }
    ![Screw in cable chain to X-axis](images/chain-head-mount-4.JPG){ loading=lazy }

11. Look at your machine from the back. You should see the two cables you pulled aside earlier. Take the connector with four wires and plug it into the port on the back side of the camera, as shown below.

    !!! Note
        For this and the following steps, the wire connectors only fit in one direction. If you ever need to remove the connectors, make sure to unlatch them and pull from the connector -- not from the wires themselves -- to avoid damage.
    ![Plug in top camera](images/plug-top-cam.JPG){ loading=lazy }

12. Take the remaining cable on the back side of the X gantry with only three wires and plug it into the top light, as shown below.
    ![Plug in top light](images/plug-top-light.JPG){ loading=lazy }
    ![Top camera and light plugged in](images/plug-top-cam-asm.JPG){ loading=lazy }

13. On the front side of the X gantry, take the connector with four holes but only three wires and plug it into the limit switch PCB.
    ![Plug in X limit switch](images/plug-z-limit.JPG){ loading=lazy }

14. Take the **unlabeled** connector with six holes and four wires and plug it into the Z motor.
    ![Plug in Z motor](images/plug-z-motor.JPG){ loading=lazy }

15. Grab two zip ties from the bag in your tool kit and fit them through the channels in the top side of the X gantry.
    ![Looping zip tie](images/zip-tie-1.JPG){ loading=lazy }
    ![Looping second zip tie](images/zip-tie-2.JPG){ loading=lazy }

16. Find the cable labeled `LM`, route it over the top of the Z motor, and secure it in place with the zip tie on the left side of the X gantry.
    ![LM cable](images/zip-lh-1.JPG){ loading=lazy }
    ![LM cable secured](images/zip-lh-2.JPG){ loading=lazy }

17. Fit a zip tie through the outer slot on the left Z gantry.
  ![Zip tie installed into Z gantry](images/zip-lh-3.JPG){ loading=lazy }

18. Plug the cable labeled `LM` into the left motor on the X gantry. This cable is inserted from the bottom.
  ![Left motor cable plugged in](images/plug-lh.JPG){ loading=lazy }

19. Tighten left Z gantry zip tie to secure the LM cable in place
    ![Zip tie securing left motor cable](images/zip-lh-4.JPG){ loading=lazy }

20. Find the cable labeled `RM` and secure it in place using the zip tie on the right side of the X gantry.
    ![Secured RM cable with a zip tie](images/zip-rh-2.JPG){ loading=lazy }

21. Fit a zip tie through the outer slot on the right Z gantry.

22. Plug the cable labeled `RM` into the right motor on the X gantry. This cable is inserted from the bottom.
    ![Plug in Right motor cable](images/plug-rh.JPG){ loading=lazy }
  
23. Tighten right Z gantry zip tie to secure the RM cable in place
    ![Right motor cable secured with zip tie](images/zip-rh-3.JPG){ loading=lazy }

24. Trim the excess zip ties from the LM and RM cables.
    ![Clipping zip ties](images/lh-trim.JPG){ loading=lazy }
    ![Motor cables connected](images/head-trim.JPG){ loading=lazy }

25. Find the two pieces of tubing labeled `LH` and `RH`, and insert `LH` into the left motor, and `RH` into the right motor. Make sure that the tubing is in between the `LH` and `RH` cable harness going to the motors as shown in the image below.
    ![LH and RH tubing](images/tubing.JPG){ loading=lazy }
    ![LH and RH tubing installed](images/tubing-inserted.JPG){ loading=lazy }
  
    !!! Note
          If you ever need to remove the tubing, press down on the blue plastic circle while pulling upward on the tubing.

26. Your X gantry should look like the image below.
  ![Final X gantry](images/finished-head.JPG){ loading=lazy }

27. Take the print attached to the wire exiting from the middle of the cable chain, and align it with the back of the X motor as shown in the image below.
  ![Aligning X motor cable](images/x-umbilical.JPG){ loading=lazy }

28. Using two M5x16mm socket head screws, mount the X cable guide to the Y gantry. Then plug the cable into the X motor.
  ![Screwing in X motor cable mount](images/x-umbilical-mount.JPG){ loading=lazy }
  ![Attaching x motor cable](images/x-motor-plug.JPG){ loading=lazy }

29. Your machine should look like the image below. Lift it up onto its back legs for final wiring steps.
  ![Overview photo](images/overview-down.JPG){ loading=lazy }
  ![LumenPnP lifted up](images/overview-up.JPG){ loading=lazy }

30. Remove the motherboard cover by unscrewing the two M3x30mm screws. Lift the top edge away from the board and rotate it out from underneath the pneumatic tubing.
  ![Unscrewing motherboard cover](images/cover-remove-1.JPG){ loading=lazy }
  ![Removing motherboard cover](images/cover-remove-2.JPG){ loading=lazy }
  ![Removing motherboard cover 2](images/cover-remove-3.JPG){ loading=lazy }

31. Take the `Y1` cable harness that came attached to the left leg assembly and guide it underneath the motherboard from the left side, and out through the top as shown. Plug the connector into the second port from the left and tuck any excess cabling underneath the motherboard.
  ![Guiding Y1 cable](images/route-y1.JPG){ loading=lazy }
  ![Y1 cable installed](images/plug-y1.JPG){ loading=lazy }

32. Using the cable clips as shown below, guide the `Y2` cable harness from the right leg assembly across the top of the staging plate, under the motherboard, and out through the top. You'll have to loosen the clips using an allen key to get the cable underneath them. Be sure to clamp them down tight so the cable doesn't hang loosely.
  ![Guiding Y2 cable](images/route-y2-1.JPG){ loading=lazy }
  ![Guiding Y2 cable 2](images/route-y2-2.JPG){ loading=lazy }
  ![Y2 cable guided](images/route-y2-3.JPG){ loading=lazy }
  ![Y2 cable positioned](images/route-y2-4.JPG){ loading=lazy }

33. Plug the `Y2` cable harness into the third port from the left. Tuck any excess cabling underneath the motherboard.
  ![Y2 cable installed](images/plug-y2.JPG){ loading=lazy }

34. Remove two M5x10mm socket head screws and two t-slot nuts from your hardware bag.
35. Insert both of the M5x10mm screws through the strain relief print and loosely attach a t-slot nut onto each screw from the backside as shown.
  ![Strain Relief and mounting hardware](images/bolt-umbilical-mount.JPG){ loading=lazy }
  ![Strain relief with t-slot nuts](images/bolt-umbilical-mount1.JPG){ loading=lazy }

36. Remove the plastic wrapping from motherboard-side of the cable chain.
  ![Pulling off plastic wrap from cable chain](images/unbag-wires3.JPG){ loading=lazy }
  ![Released wires](images/unbag-wires4.JPG){ loading=lazy }
  
37. Take a look at the bundle of cables coming from the cable chain. One cable with a USB connector will not be zip tied into the print. Move this cable out of the way for now, as we won't be routing it with the rest of the cables.
  ![USB cable](images/isolate-top-cam.JPG){ loading=lazy }

38. Isolate the following items from the bundle, and guide them under the motherboard from the left side, and out through the top as shown below.
    - `RH` tubing
    - `LH` tubing
    - `XM` cable harness
    - `ZM` cable harness
    - `LM` cable harness
  ![routing RH, LH, XM, ZM, and LM cables/tubes](images/isolate-half-1.JPG){ loading=lazy }

39. Use two M5x10mm screws and two T-slot nuts to attach the strain relief print into the bottom of the bottom rail in the left leg assembly.
    ![Installing the strain relief](images/mount-strain.JPG){ loading=lazy }

40. Plug the `XM` cable harness into the first port from the left (labeled "X"), plug the `ZM` cable harness into the fourth port from the left (labeled "Z"), and plug the `LM` cable harness into the port on the far left (labeled "L").
  ![Plugging in XM](images/plug-xm.JPG){ loading=lazy }
  ![Plugging in ZM](images/plug-zm.JPG){ loading=lazy }
  ![Plugging in LM](images/plug-lm.JPG){ loading=lazy }

41. Take the two tubes left and stick them back under the motherboard, out the right side, and plug them into the pneumatic fitting that matches the label on the tubing.
  ![routing Tubes](images/guide-tubing-1.JPG){ loading=lazy }
  ![Attaching Tubes](images/guide-tubing-2.JPG){ loading=lazy }
  ![Tubes attached to correctly labeled fitting](images/plug-tubing.JPG){ loading=lazy }

42. Route the remaining three cable harness from the bundle underneath the red and blue vacuum sensor tubing.
  ![Routing RM, ZL, and DL cables](images/route-zl-dl-rm.JPG){ loading=lazy }

43. Plug the harness labeled `RM` into the first port in the second row (labeled "R").
  ![Plugging in RM](images/plug-rm.JPG){ loading=lazy }

44. Plug the harness labeled `ZL` into the Z Limit Switch port.
  ![Plugging in ZL](images/plug-zl.JPG){ loading=lazy }
  
45. Plug the harness labeled `DL` into the Top Light port.
  ![Plugging in DL](images/plug-dl.JPG){ loading=lazy }

46. Tuck any excess cabling underneath the motherboard. Your machine should look like the image below.
  ![Finished motherboard](images/wired-overview.JPG){ loading=lazy }

47. Follow the steps for [installing the Slot Harness](https://docs.opulo.io/feeders/2-install-harness/installing-the-slot-harness/#install-the-harness) here, and then come back to this page for guidance on plugging in the last few wires in the section below.

48. Fit the cover back onto the motherboard by rotating it underneath the pneumatic tubing, and pressing down around the stepper driver pins and heatsinks. Remount using the original two M3x30mm screws.
  ![Inserting the motherboard cover](images/mount-cover-1.JPG){ loading=lazy }
  ![Screwing in the motherboard cover](images/mount-cover-2.JPG){ loading=lazy }

49. Grab the USB <-> 4 pin connector cable from your tool bag, and plug the 4 pin connector into the back of the bottom camera. Attach the cable to the bottom camera mount using a zip tie and snip off the excess.
  ![Attaching bottom camera cable](images/plug-bottom-cam.JPG){ loading=lazy }
  ![Securing bottom camera cable](images/zip-bottom-cam.JPG){ loading=lazy }

50. Find the staging plate foot from the second tray, and press fit it onto the bottom camera mount, taking care to align the cutout with the bottom camera cable.
  ![Positioning staging plate foot](images/mount-foot-1.JPG){ loading=lazy }
  ![Installing staging plate foot](images/mount-foot-2.JPG){ loading=lazy }

51. Route the USB cable underneath the motherboard.
  ![USB cable routed under motherboard](images/usb-under-mobo.JPG){ loading=lazy }
  ![Final wiring of motherboard](images/final-wiring.JPG){ loading=lazy }

52. Plug the power supply into a wall outlet, and plug the barrel jack into the port in the upper-right corner of the motherboard. You should see a light come on underneath the cover.
53. Plug the USB-B cable located in your tool bag into the USB port on the bottom-left corner of the motherboard.
54. Lower your machine down onto all four legs.
55. Plug the three USB cables coming from your machine into your computer. Depending on your computer's hardware, you might need to plug these all into separate USB ports on your computer and not use an external hub. We'll cover more about this later during calibration.

You're done with your build! Time to head over to the OpenPnP section of the docs for calibration and running your first job:

## Next Steps

You're done with your build! Next, you'll set up [OpenPnP.](../../openpnp/index.md)
